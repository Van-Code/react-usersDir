(this["webpackJsonpreact-usersDir"]=this["webpackJsonpreact-usersDir"]||[]).push([[0],{48:function(e,t,a){e.exports=a(60)},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),s=a.n(l),o=a(10),c=a(11),i=a(13),u=a(12),h=a(32),m=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(h.a.Brand,null,"User Directory"),r.a.createElement(h.a.Collapse,{className:"justify-content-end"},r.a.createElement(h.a.Text,null,"Signed in as: Admin")))}}]),a}(r.a.Component),d=a(26),v=a(14),p=a(28),E=a(23),f=a(18),b=a(29),g=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={show:e.show,user:e.user,movie:"",gender:"",name:"",film:""},n.handleChange=n.handleChange.bind(Object(E.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n.handlePreview=n.handlePreview.bind(Object(E.a)(n)),n.closeModal=n.closeModal.bind(Object(E.a)(n)),n.handleCancel=n.handleCancel.bind(Object(E.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(e){this.getFilmDetails(e)}},{key:"handleChange",value:function(e){var t=e.target.id.replace("form","").toLowerCase(),a=e.target.value;switch(t){case"name":this.setState({name:a});break;case"gender":this.setState({gender:a});break;case"movie":this.setState({movie:a})}}},{key:"getFilmDetails",value:function(e){var t=this,a=""!==this.state.movie?this.state.movie:this.state.user.movie;a=encodeURI(a);var n="https://www.omdbapi.com/?t=".concat(a,"&apikey=219a8559");fetch(n).then((function(e){return e.json()})).then((function(e){"False"!==e.Response?t.setState({film:e}):t.setState({film:e.Error})}))}},{key:"handleCancel",value:function(){this.setState({user:this.props.user}),this.props.handleHide()}},{key:"closeModal",value:function(){this.props.handleHide()}},{key:"handlePreview",value:function(){this.getFilmDetails()}},{key:"handleSubmit",value:function(){var e=this,t=this.state.user;["gender","movie","name"].forEach((function(a){""!==e.state[a]&&t[a]!==e.state[a]?t[a]=e.state[a]:t[a]=e.state.user[a]})),this.setState({user:t}),this.props.handleHide()}},{key:"renderForm",value:function(e){return r.a.createElement(v.a,{md:6},r.a.createElement(f.a,null,r.a.createElement(f.a.Group,{controlId:"formName"},r.a.createElement(f.a.Label,null,"Name"),r.a.createElement(f.a.Control,{type:"text",value:this.state.name,placeholder:e.name,onChange:this.handleChange})),r.a.createElement(f.a.Group,{controlId:"formMovie"},r.a.createElement(f.a.Label,null,"Favorite Movie"),r.a.createElement(f.a.Control,{type:"text",value:this.state.movie,placeholder:e.movie,onChange:this.handleChange})),r.a.createElement(f.a.Group,{controlId:"formGender"},r.a.createElement(f.a.Label,null,"Gender"),r.a.createElement(f.a.Control,{type:"text",value:this.state.gender,placeholder:e.gender,onChange:this.handleChange}))))}},{key:"renderFilm",value:function(e){var t="";if("object"===typeof e){var a="N/A"!==e.Poster?e.Poster:"https://via.placeholder.com/150";t=r.a.createElement(v.a,{md:6},r.a.createElement("img",{src:a,alt:e.Title,width:"150px",class:"text-center"}),r.a.createElement("p",null,r.a.createElement("strong",null,e.Title)),r.a.createElement("p",null,e.Rated," - ",e.Runtime," - ",e.Released),r.a.createElement("p",null,e.Plot),r.a.createElement("em",null,"Movie data credited to ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.omdbapi.com/"},"OMDb API")))}else t=r.a.createElement(v.a,{md:6},e);return t}},{key:"render",value:function(){var e=this.state.show,t=this.state.user,a=this.state.film;return r.a.createElement(b.a,{show:e,size:"xl"},r.a.createElement(b.a.Header,{closeButton:!0,onClick:this.handleCancel},r.a.createElement(b.a.Title,null,"User Edit")),r.a.createElement(b.a.Body,null,r.a.createElement(d.a,null,this.renderForm(t),this.renderFilm(a))),r.a.createElement(b.a.Footer,null,r.a.createElement(p.a,{variant:"secondary",onClick:this.handleCancel},"Cancel"),r.a.createElement(p.a,{onClick:this.handlePreview},"Preview"),r.a.createElement(p.a,{onClick:this.handleSubmit},"Save")))}}]),a}(r.a.Component),C=a(25),j=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({user:e})},n.handleShow=function(){n.setState({show:!0})},n.handleHide=function(){n.setState({show:!1})},n.renderModal=function(e){if(n.state.show)return r.a.createElement(g,{user:e,show:n.state.show,handleChange:n.handleChange,handleHide:n.handleHide})},n.state={user:e.user,show:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.state.user;return e=r.a.createElement(p.a,{variant:"primary",onClick:this.handleShow},"View/Edit"),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{xs:12,md:3,className:"user"},r.a.createElement(C.a,null,r.a.createElement(C.a.Img,{variant:"top",src:t.image,role:"presentation",alt:t.first_name}),r.a.createElement(C.a.Body,null,r.a.createElement(C.a.Title,null,t.name),r.a.createElement(C.a.Subtitle,null,t.gender),r.a.createElement(C.a.Text,null,t.movie),e))),this.renderModal(t))}}]),a}(r.a.Component),w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={users:e.users},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.users!==e.users&&this.setState({users:this.props.users})}},{key:"render",value:function(){return r.a.createElement(d.a,null,this.state.users.map((function(e){return r.a.createElement(r.a.Fragment,null," ",r.a.createElement(j,{user:e,key:e.emp_id}))})))}}]),a}(r.a.Component),y=a(45),O=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).renderModal=function(e){if(n.state.show)return r.a.createElement(g,{user:e,show:n.state.show,handleChange:n.handleChange,handleHide:n.handleHide})},n.state={users:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="https://van-code.github.io/react-usersDir/json/MOCK_DATA.json";console.log(window.location.hostname,"localhost"),"localhost"===window.location.hostname&&(t="react-usersDir/json/MOCK_DATA.json"),console.log(t),fetch(t).then((function(e){return e.json()})).then((function(t){var a=t;e.setState({users:a})})).catch((function(e){console.log("err",e)}))}},{key:"renderUsers",value:function(){return this.state.users.length>0?r.a.createElement(w,{users:this.state.users}):r.a.createElement(v.a,{md:12},"No users found.")}},{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement(d.a,null,r.a.createElement(v.a,{md:12,class:"text-left"},r.a.createElement("strong",null,this.state.users.length)," user(s)"),r.a.createElement(v.a,{md:12},this.renderUsers())))}}]),a}(r.a.Component),k=(a(56),a(46)),S=a(7),M=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(k.a,{className:"App"},r.a.createElement(m,null),r.a.createElement(S.c,null,r.a.createElement(S.a,{path:"/"},r.a.createElement(O,null))))}}]),a}(r.a.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.2f18bf0f.chunk.js.map