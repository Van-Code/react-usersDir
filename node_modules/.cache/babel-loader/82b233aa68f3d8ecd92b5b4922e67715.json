{"ast":null,"code":"var _jsxFileName = \"/Users/vtran/sites/react-usersDir/src/components/UserDetails.js\";\nimport React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\nclass UserDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: props.show,\n      user: props.user,\n      movie: '',\n      gender: '',\n      name: '',\n      film: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handlePreview = this.handlePreview.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n  }\n\n  componentDidMount(props) {\n    this.getFilmDetails(props);\n  }\n\n  handleChange(event) {\n    const field = event.target.id.replace('form', '').toLowerCase();\n    let value = event.target.value;\n\n    switch (field) {\n      case 'name':\n        this.setState({\n          name: value\n        });\n        break;\n\n      case 'gender':\n        this.setState({\n          gender: value\n        });\n        break;\n\n      case 'movie':\n        this.setState({\n          movie: value\n        });\n        break;\n\n      default: //none\n\n    }\n  }\n\n  getFilmDetails(props) {\n    const that = this;\n    let movie = this.state.movie !== \"\" ? this.state.movie : this.state.user.movie;\n    movie = encodeURI(movie);\n    let url = `http://www.omdbapi.com/?t=${movie}&apikey=219a8559`;\n    fetch(url).then(function (resp) {\n      return resp.json();\n    }).then(function (data) {\n      if (data.Response !== 'False') {\n        that.setState({\n          film: data\n        });\n      } else {\n        that.setState({\n          film: data.Error\n        });\n      }\n    });\n  }\n\n  handleCancel() {\n    this.setState({\n      user: this.props.user\n    });\n    this.props.handleHide();\n  }\n\n  closeModal() {\n    this.props.handleHide();\n  }\n\n  handlePreview() {\n    this.getFilmDetails();\n  }\n\n  handleSubmit() {\n    let user = this.state.user;\n    ['gender', 'movie', 'name'].forEach(prop => {\n      if (this.state[prop] !== '' && user[prop] !== this.state[prop]) {\n        user[prop] = this.state[prop];\n      } else {\n        user[prop] = this.state.user[prop];\n      }\n    });\n    this.setState({\n      user: user\n    });\n    this.props.handleHide();\n  }\n\n  renderForm(user) {\n    let form = /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      value: this.state.name,\n      placeholder: user.name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formMovie\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, \"Favorite Movie\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      value: this.state.movie,\n      placeholder: user.movie,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formGender\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      value: this.state.gender,\n      placeholder: user.gender,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }))));\n    return form;\n  }\n\n  renderFilm(film) {\n    let element = '';\n\n    if (typeof film === 'object') {\n      let image = film.Poster !== 'N/A' ? film.Poster : 'https://via.placeholder.com/150';\n      element = /*#__PURE__*/React.createElement(Col, {\n        md: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: image,\n        alt: film.Title,\n        width: \"150px\",\n        class: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 20\n        }\n      }, film.Title)), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }, film.Rated, \" - \", film.Runtime, \" - \", film.Released), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, film.Plot), /*#__PURE__*/React.createElement(\"em\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, \"Movie data credited to \", /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        href: \"http://www.omdbapi.com/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 44\n        }\n      }, \"OMDb API\")));\n    } else {\n      element = /*#__PURE__*/React.createElement(Col, {\n        md: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 23\n        }\n      }, film);\n    }\n\n    return element;\n  }\n\n  render() {\n    let show = this.state.show;\n    let user = this.state.user;\n    let film = this.state.film;\n    return /*#__PURE__*/React.createElement(Modal, {\n      show: show,\n      size: \"xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      onClick: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, \"User Edit\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, this.renderForm(user), this.renderFilm(film))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handlePreview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \"Preview\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, \"Save\")));\n  }\n\n}\n\nexport default UserDetails;","map":{"version":3,"sources":["/Users/vtran/sites/react-usersDir/src/components/UserDetails.js"],"names":["React","Form","Button","Modal","Col","Row","UserDetails","Component","constructor","props","state","show","user","movie","gender","name","film","handleChange","bind","handleSubmit","handlePreview","closeModal","handleCancel","componentDidMount","getFilmDetails","event","field","target","id","replace","toLowerCase","value","setState","that","encodeURI","url","fetch","then","resp","json","data","Response","Error","handleHide","forEach","prop","renderForm","form","renderFilm","element","image","Poster","Title","Rated","Runtime","Released","Plot","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\nclass UserDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: props.show,\n            user: props.user,\n            movie: '',\n            gender: '',\n            name: '',\n            film: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handlePreview = this.handlePreview.bind(this);\n        this.closeModal = this.closeModal.bind(this);\n        this.handleCancel = this.handleCancel.bind(this)\n    }\n    componentDidMount(props) {\n        this.getFilmDetails(props)\n    }\n\n    handleChange(event) {\n        const field = event.target.id.replace('form', '').toLowerCase()\n        let value = event.target.value\n        switch (field) {\n            case 'name':\n                this.setState({ name: value })\n                break;\n            case 'gender':\n                this.setState({ gender: value })\n                break;\n            case 'movie':\n                this.setState({ movie: value });\n                break;\n            default:\n            //none\n        }\n\n    }\n    getFilmDetails(props) {\n        const that = this;\n        let movie = this.state.movie !== \"\" ? this.state.movie : this.state.user.movie;\n        movie = encodeURI(movie);\n        let url = `http://www.omdbapi.com/?t=${movie}&apikey=219a8559`\n        fetch(url)\n            .then(function (resp) {\n                return resp.json()\n            }).then(function (data) {\n                if (data.Response !== 'False') {\n                    that.setState({ film: data })\n                } else {\n                    that.setState({ film: data.Error })\n                }\n            });\n    }\n\n    handleCancel() {\n        this.setState({ user: this.props.user })\n        this.props.handleHide()\n    }\n    closeModal() {\n        this.props.handleHide()\n    }\n    handlePreview() {\n        this.getFilmDetails()\n    }\n    handleSubmit() {\n        let user = this.state.user;\n        ['gender', 'movie', 'name'].forEach(prop => {\n            if (this.state[prop] !== '' && user[prop] !== this.state[prop]) {\n                user[prop] = this.state[prop]\n            } else {\n                user[prop] = this.state.user[prop]\n            }\n        })\n        this.setState({ user: user })\n        this.props.handleHide()\n    }\n    renderForm(user) {\n        let form =\n            <Col md={6}>\n                <Form>\n                    <Form.Group controlId=\"formName\">\n                        <Form.Label>Name</Form.Label>\n                        <Form.Control type=\"text\" value={this.state.name} placeholder={user.name} onChange=\n                            {this.handleChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"formMovie\">\n                        <Form.Label>Favorite Movie</Form.Label>\n                        <Form.Control type=\"text\" value={this.state.movie} placeholder={user.movie} onChange=\n                            {this.handleChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"formGender\">\n                        <Form.Label>Gender</Form.Label>\n                        <Form.Control type=\"text\" value={this.state.gender} placeholder={user.gender} onChange=\n                            {this.handleChange} />\n                    </Form.Group>\n                </Form>\n            </Col>\n        return form\n    }\n    renderFilm(film) {\n        let element = '';\n        if (typeof (film) === 'object') {\n            let image = film.Poster !== 'N/A' ? film.Poster : 'https://via.placeholder.com/150';\n            element = <Col md={6}>\n                <img src={image} alt={film.Title} width=\"150px\" class=\"text-center\"></img>\n                <p><strong>{film.Title}</strong></p>\n                <p>{film.Rated} - {film.Runtime} - {film.Released}</p>\n                <p>{film.Plot}</p>\n                <em>Movie data credited to <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://www.omdbapi.com/\">OMDb API</a></em>\n            </Col>\n        } else {\n            element = <Col md={6}>{film}</Col>\n        }\n        return element\n    }\n    render() {\n        let show = this.state.show;\n        let user = this.state.user;\n        let film = this.state.film;\n\n        return (\n            <Modal show={show} size=\"xl\">\n                <Modal.Header closeButton onClick={this.handleCancel}>\n                    <Modal.Title>User Edit</Modal.Title>\n                </Modal.Header>\n\n                <Modal.Body>\n                    <Row>\n                        {this.renderForm(user)}\n                        {this.renderFilm(film)}\n                    </Row>\n                </Modal.Body>\n\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={this.handleCancel}>Cancel</Button>\n                    <Button onClick={this.handlePreview} >Preview</Button>\n                    <Button onClick={this.handleSubmit} >Save</Button>\n                </Modal.Footer>\n            </Modal >\n        )\n    }\n}\n\nexport default UserDetails;"]},"metadata":{},"sourceType":"module"}