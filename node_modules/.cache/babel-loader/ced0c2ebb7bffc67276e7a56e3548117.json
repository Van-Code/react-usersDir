{"ast":null,"code":"import _classCallCheck from\"/Users/vtran/sites/react-usersDir/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vtran/sites/react-usersDir/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/vtran/sites/react-usersDir/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/vtran/sites/react-usersDir/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vtran/sites/react-usersDir/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Modal from'react-bootstrap/Modal';import Col from'react-bootstrap/Col';import Row from'react-bootstrap/Row';var UserDetails=/*#__PURE__*/function(_React$Component){_inherits(UserDetails,_React$Component);var _super=_createSuper(UserDetails);function UserDetails(props){var _this;_classCallCheck(this,UserDetails);_this=_super.call(this,props);_this.state={show:props.show,user:props.user,movie:'',gender:'',name:'',film:''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handlePreview=_this.handlePreview.bind(_assertThisInitialized(_this));_this.closeModal=_this.closeModal.bind(_assertThisInitialized(_this));_this.handleCancel=_this.handleCancel.bind(_assertThisInitialized(_this));return _this;}_createClass(UserDetails,[{key:\"componentDidMount\",value:function componentDidMount(props){this.getFilmDetails(props);}},{key:\"handleChange\",value:function handleChange(event){var field=event.target.id.replace('form','').toLowerCase();var value=event.target.value;switch(field){case'name':this.setState({name:value});break;case'gender':this.setState({gender:value});break;case'movie':this.setState({movie:value});break;default://none\n}}},{key:\"getFilmDetails\",value:function getFilmDetails(props){var that=this;var movie=this.state.movie!==\"\"?this.state.movie:this.state.user.movie;movie=encodeURI(movie);var url=\"http://www.omdbapi.com/?t=\".concat(movie,\"&apikey=219a8559\");fetch(url).then(function(resp){return resp.json();}).then(function(data){if(data.Response!=='False'){that.setState({film:data});}else{that.setState({film:data.Error});}});}},{key:\"handleCancel\",value:function handleCancel(){this.setState({user:this.props.user});this.props.handleHide();}},{key:\"closeModal\",value:function closeModal(){this.props.handleHide();}},{key:\"handlePreview\",value:function handlePreview(){this.getFilmDetails();}},{key:\"handleSubmit\",value:function handleSubmit(){var _this2=this;var user=this.state.user;['gender','movie','name'].forEach(function(prop){if(_this2.state[prop]!==''&&user[prop]!==_this2.state[prop]){user[prop]=_this2.state[prop];}else{user[prop]=_this2.state.user[prop];}});this.setState({user:user});this.props.handleHide();}},{key:\"renderForm\",value:function renderForm(user){var form=/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Name\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",value:this.state.name,placeholder:user.name,onChange:this.handleChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formMovie\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Favorite Movie\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",value:this.state.movie,placeholder:user.movie,onChange:this.handleChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGender\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Gender\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",value:this.state.gender,placeholder:user.gender,onChange:this.handleChange}))));return form;}},{key:\"renderFilm\",value:function renderFilm(film){var element='';if(typeof film==='object'){var image=film.Poster!=='N/A'?film.Poster:'https://via.placeholder.com/150';element=/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(\"img\",{src:image,alt:film.Title,width:\"150px\",class:\"text-center\"}),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,film.Title)),/*#__PURE__*/React.createElement(\"p\",null,film.Rated,\" - \",film.Runtime,\" - \",film.Released),/*#__PURE__*/React.createElement(\"p\",null,film.Plot),/*#__PURE__*/React.createElement(\"em\",null,\"Movie data credited to \",/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\",rel:\"noopener noreferrer\",href:\"http://www.omdbapi.com/\"},\"OMDb API\")));}else{element=/*#__PURE__*/React.createElement(Col,{md:6},film);}return element;}},{key:\"render\",value:function render(){var show=this.state.show;var user=this.state.user;var film=this.state.film;return/*#__PURE__*/React.createElement(Modal,{show:show,size:\"xl\"},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true,onClick:this.handleCancel},/*#__PURE__*/React.createElement(Modal.Title,null,\"User Edit\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Row,null,this.renderForm(user),this.renderFilm(film))),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:this.handleCancel},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{onClick:this.handlePreview},\"Preview\"),/*#__PURE__*/React.createElement(Button,{onClick:this.handleSubmit},\"Save\")));}}]);return UserDetails;}(React.Component);export default UserDetails;","map":{"version":3,"sources":["/Users/vtran/sites/react-usersDir/src/components/UserDetails.js"],"names":["React","Form","Button","Modal","Col","Row","UserDetails","props","state","show","user","movie","gender","name","film","handleChange","bind","handleSubmit","handlePreview","closeModal","handleCancel","getFilmDetails","event","field","target","id","replace","toLowerCase","value","setState","that","encodeURI","url","fetch","then","resp","json","data","Response","Error","handleHide","forEach","prop","form","element","image","Poster","Title","Rated","Runtime","Released","Plot","renderForm","renderFilm","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\nclass UserDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: props.show,\n            user: props.user,\n            movie: '',\n            gender: '',\n            name: '',\n            film: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handlePreview = this.handlePreview.bind(this);\n        this.closeModal = this.closeModal.bind(this);\n        this.handleCancel = this.handleCancel.bind(this)\n    }\n    componentDidMount(props) {\n        this.getFilmDetails(props)\n    }\n\n    handleChange(event) {\n        const field = event.target.id.replace('form', '').toLowerCase()\n        let value = event.target.value\n        switch (field) {\n            case 'name':\n                this.setState({ name: value })\n                break;\n            case 'gender':\n                this.setState({ gender: value })\n                break;\n            case 'movie':\n                this.setState({ movie: value });\n                break;\n            default:\n            //none\n        }\n\n    }\n    getFilmDetails(props) {\n        const that = this;\n        let movie = this.state.movie !== \"\" ? this.state.movie : this.state.user.movie;\n        movie = encodeURI(movie);\n        let url = `http://www.omdbapi.com/?t=${movie}&apikey=219a8559`\n        fetch(url)\n            .then(function (resp) {\n                return resp.json()\n            }).then(function (data) {\n                if (data.Response !== 'False') {\n                    that.setState({ film: data })\n                } else {\n                    that.setState({ film: data.Error })\n                }\n            });\n    }\n\n    handleCancel() {\n        this.setState({ user: this.props.user })\n        this.props.handleHide()\n    }\n    closeModal() {\n        this.props.handleHide()\n    }\n    handlePreview() {\n        this.getFilmDetails()\n    }\n    handleSubmit() {\n        let user = this.state.user;\n        ['gender', 'movie', 'name'].forEach(prop => {\n            if (this.state[prop] !== '' && user[prop] !== this.state[prop]) {\n                user[prop] = this.state[prop]\n            } else {\n                user[prop] = this.state.user[prop]\n            }\n        })\n        this.setState({ user: user })\n        this.props.handleHide()\n    }\n    renderForm(user) {\n        let form =\n            <Col md={6}>\n                <Form>\n                    <Form.Group controlId=\"formName\">\n                        <Form.Label>Name</Form.Label>\n                        <Form.Control type=\"text\" value={this.state.name} placeholder={user.name} onChange=\n                            {this.handleChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"formMovie\">\n                        <Form.Label>Favorite Movie</Form.Label>\n                        <Form.Control type=\"text\" value={this.state.movie} placeholder={user.movie} onChange=\n                            {this.handleChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"formGender\">\n                        <Form.Label>Gender</Form.Label>\n                        <Form.Control type=\"text\" value={this.state.gender} placeholder={user.gender} onChange=\n                            {this.handleChange} />\n                    </Form.Group>\n                </Form>\n            </Col>\n        return form\n    }\n    renderFilm(film) {\n        let element = '';\n        if (typeof (film) === 'object') {\n            let image = film.Poster !== 'N/A' ? film.Poster : 'https://via.placeholder.com/150';\n            element = <Col md={6}>\n                <img src={image} alt={film.Title} width=\"150px\" class=\"text-center\"></img>\n                <p><strong>{film.Title}</strong></p>\n                <p>{film.Rated} - {film.Runtime} - {film.Released}</p>\n                <p>{film.Plot}</p>\n                <em>Movie data credited to <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://www.omdbapi.com/\">OMDb API</a></em>\n            </Col>\n        } else {\n            element = <Col md={6}>{film}</Col>\n        }\n        return element\n    }\n    render() {\n        let show = this.state.show;\n        let user = this.state.user;\n        let film = this.state.film;\n\n        return (\n            <Modal show={show} size=\"xl\">\n                <Modal.Header closeButton onClick={this.handleCancel}>\n                    <Modal.Title>User Edit</Modal.Title>\n                </Modal.Header>\n\n                <Modal.Body>\n                    <Row>\n                        {this.renderForm(user)}\n                        {this.renderFilm(film)}\n                    </Row>\n                </Modal.Body>\n\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={this.handleCancel}>Cancel</Button>\n                    <Button onClick={this.handlePreview} >Preview</Button>\n                    <Button onClick={this.handleSubmit} >Save</Button>\n                </Modal.Footer>\n            </Modal >\n        )\n    }\n}\n\nexport default UserDetails;"]},"metadata":{},"sourceType":"module"}